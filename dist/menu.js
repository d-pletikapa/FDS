(()=>{"use strict";var __webpack_modules__={941:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/auth.js\nconst auth = () => {\n  const buttonAuth = document.querySelector('.button-auth');\n  const modalAuth = document.querySelector('.modal-auth');\n  const buttonOut = document.querySelector('.button-out');\n  const userName = document.querySelector('.user-name');\n  const closeAuth = document.querySelector('.close-auth');\n  const logInForm = document.getElementById('logInForm');\n  const inputLogin = document.getElementById('login');\n  const inputPassword = document.getElementById('password');\n  const buttonCart = document.querySelector('.button-cart');\n\n  const login = (user) => {\n    buttonAuth.style.display = 'none';\n    buttonOut.style.display = 'flex';\n    userName.style.display = 'flex';\n    buttonCart.style.display = 'flex';\n    userName.textContent = user.login;\n    modalAuth.style.display = 'none';\n  }\n\n  const logout = () => {\n    buttonAuth.style.display = 'flex';\n    buttonOut.style.display = 'none';\n    userName.style.display = 'none';\n    userName.textContent = '';\n    buttonCart.style.display = 'none';\n    localStorage.removeItem('user');\n  }\n\n  buttonAuth.addEventListener('click', () => {\n    modalAuth.style.display = 'flex';\n  })\n\n  closeAuth.addEventListener('click', () => {\n    modalAuth.style.display = 'none';\n  })\n\n  buttonOut.addEventListener('click', () => {\n    logout();\n  })\n\n  logInForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    \n    if (inputLogin.value.trim() && inputPassword.value) {\n      const user = {\n        login: inputLogin.value.trim(),\n        password: inputPassword.value\n      };\n      localStorage.setItem('user', JSON.stringify(user));\n      login(user);\n    } else if (!inputLogin.value.trim()) {\n      alert('Для авторизации необходимо ввести логин');\n    } else if (!inputPassword.value) {\n      alert('Для авторизации необходимо ввести пароль');\n    }\n  })\n\n  if (localStorage.getItem('user')) {\n    login(JSON.parse(localStorage.getItem('user')));\n  }\n}\n\n/* harmony default export */ const modules_auth = (auth);\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = () => {\n  const buttonCart = document.getElementById('cart-button');\n  const modalCart = document.querySelector('.modal-cart');\n  const close = modalCart.querySelector('.close');\n  const body = modalCart.querySelector('.modal-body');\n  const buttonSend = modalCart.querySelector('.btn-send');\n  const buttonClear = modalCart.querySelector('.clear-cart');\n  const modalPricetag = modalCart.querySelector('.modal-pricetag');\n\n  const resetCart = () => {\n    body.innerHTML = '';\n    modalPricetag.textContent = 0 + ' ₽';\n    localStorage.removeItem('cart');\n    modalCart.classList.remove('is-open');\n  }\n\n  const incrementCount = (id) => {\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\n\n    cartArray.map((item) => {\n      if (item.id === id) {\n        item.count++;\n      }\n      return item;\n    });\n\n    localStorage.setItem('cart', JSON.stringify(cartArray));\n    renderItems(cartArray);\n  };\n\n  const decrementCount = (id) => {\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\n\n    cartArray.map((item) => {\n      if (item.id === id) {\n        item.count = item.count > 0 ? item.count - 1 : 0\n        /* below will be the same result as above, but in more code\n        if (item.count > 0) {\n          item.count--;\n        } else {\n          item.count = 0;\n        } \n        */\n      }\n      return item;\n    });\n\n    localStorage.setItem('cart', JSON.stringify(cartArray));\n    renderItems(cartArray);\n  };\n\n  const renderItems = (data) => {\n    const priceArray = [];\n    body.innerHTML = '';\n    modalPricetag.textContent = 0 + ' ₽';\n\n    data.forEach(({ name, price, id, count }) => {\n      const itemAmount = price * count;\n      const cartElem = document.createElement('div');\n      cartElem.classList.add('food-row');\n      cartElem.innerHTML = `\n        <span class=\"food-name\">${name}</span>\n\t\t\t\t<strong class=\"food-price\">${price} ₽</strong>\n\t\t\t\t<div class=\"food-counter\">\n\t\t\t\t\t<button class=\"counter-button btn-dec\" data-index=\"${id}\">-</button>\n\t\t\t\t\t<span class=\"counter\">${count}</span>\n\t\t\t\t\t<button class=\"counter-button btn-inc\" data-index=\"${id}\">+</button>\n\t\t\t\t</div>\n      `\n\n      priceArray.push(itemAmount);\n      body.append(cartElem);\n\n      /* another way to make counting buttons, but there are way more listeners\n      cartElem.querySelector('.btn-dec').addEventListener('click', () => {\n        decrementCount(id);\n      })\n      cartElem.querySelector('.btn-inc').addEventListener('click', () => {\n        incrementCount(id);\n      })\n      */\n    });\n\n    const totalPrice = priceArray.reduce(function(sum, current) {\n      return sum + current;\n    });\n    modalPricetag.textContent = totalPrice + ' ₽';\n  }\n\n  body.addEventListener('click', (e) => {\n    e.preventDefault();\n\n    if (e.target.classList.contains('btn-inc')) {\n      incrementCount(e.target.dataset.index);\n    } else if (e.target.classList.contains('btn-dec')) {\n      decrementCount(e.target.dataset.index);\n    }\n  })\n\n  buttonSend.addEventListener('click', () => {\n    const cartArray = localStorage.getItem('cart');\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      body: cartArray\n    })\n    .then(response => {\n      if (response.ok) {\n        resetCart();\n      }\n    })\n    .catch(e => {\n      console.error(e);\n    })\n  })\n\n  buttonClear.addEventListener('click', resetCart);\n\n  buttonCart.addEventListener('click', () => {\n    if (localStorage.getItem('cart')) {\n      renderItems(JSON.parse(localStorage.getItem('cart')));\n    }\n    modalCart.classList.add('is-open');\n  })\n  close.addEventListener('click', () => {\n    modalCart.classList.remove('is-open');\n  })\n}\n\n/* harmony default export */ const modules_cart = (cart);\n;// CONCATENATED MODULE: ./src/modules/menu.js\nconst menu = () => {\n  const cardsMenu = document.querySelector('.cards-menu');\n\n  const changeTitle = (restaurant) => {\n    const restaurantTitle = document.querySelector('.restaurant-title');\n    const rating = document.querySelector('.rating');\n    const price = document.querySelector('.price');\n    const category = document.querySelector('.category');\n\n    restaurantTitle.textContent = restaurant.name;\n    rating.textContent = restaurant.stars;\n    price.textContent = `От ${restaurant.price} ₽`;\n    category.textContent = restaurant.kitchen;\n  }\n\n  const addToCart = (cartItem) => {\n    const cartArray = localStorage.getItem('cart') ? \n    JSON.parse(localStorage.getItem('cart')) : \n    [];\n\n    if (cartArray.some((item) => item.id === cartItem.id)) {\n      cartArray.map((item => {\n        if (item.id === cartItem.id) {\n          item.count++;\n        }\n        return item;\n      }))\n    } else {\n      cartArray.push(cartItem);\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cartArray));\n  }\n\n  const renderItems = (data) => {\n    data.forEach(({\n      description,\n      id,\n      image,\n      name,\n      price\n    }) => {\n      const card = document.createElement('div');\n      card.classList.add('card');\n      card.innerHTML = `\n      <img src=\"${image}\" alt=\"${name}\" class=\"card-image\" />\n\t\t\t<div class=\"card-text\">\n\t\t\t\t<div class=\"card-heading\">\n\t\t\t\t\t<h3 class=\"card-title card-title-reg\">${name}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card-info\">\n\t\t\t\t\t<div class=\"ingredients\">\n            ${description}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card-buttons\">\n\t\t\t\t\t<button class=\"button button-primary button-add-cart\">\n\t\t\t\t\t\t<span class=\"button-card-text\">В корзину</span>\n\t\t\t\t\t\t<span class=\"button-cart-svg\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<strong class=\"card-price-bold\">${price} ₽</strong>\n\t\t\t\t</div>\n\t\t\t</div>\n    `;\n\n      card.querySelector('.button-card-text').addEventListener('click', () => {\n        addToCart({ name, price, id, count: 1 });\n      });\n      \n      cardsMenu.append(card);\n    });\n  };\n\n  if (localStorage.getItem('restaurant')) {\n    const restaurant = JSON.parse(localStorage.getItem('restaurant'));\n    changeTitle(restaurant);\n    \n    fetch(`https://fooddelivery-a5981-default-rtdb.firebaseio.com/db/${restaurant.products}`)\n      .then((response) => response.json())\n      .then((data) => {\n        renderItems(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  } else {\n    window.location.href = '/';\n  }\n}\n\n/* harmony default export */ const modules_menu = (menu);\n;// CONCATENATED MODULE: ./src/menu.js\n\n\n\n\nmodules_auth();\nmodules_cart();\nmodules_menu();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFjazovL2Zkcy8uL3NyYy9tb2R1bGVzL2NhcnQuanM/YWMwZSIsIndlYnBhY2s6Ly9mZHMvLi9zcmMvbW9kdWxlcy9tZW51LmpzPzJmYWQiLCJ3ZWJwYWNrOi8vZmRzLy4vc3JjL21lbnUuanM/YWIwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhdXRoID0gKCkgPT4ge1xuICBjb25zdCBidXR0b25BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1hdXRoJyk7XG4gIGNvbnN0IG1vZGFsQXV0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1hdXRoJyk7XG4gIGNvbnN0IGJ1dHRvbk91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tb3V0Jyk7XG4gIGNvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItbmFtZScpO1xuICBjb25zdCBjbG9zZUF1dGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYXV0aCcpO1xuICBjb25zdCBsb2dJbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nSW5Gb3JtJyk7XG4gIGNvbnN0IGlucHV0TG9naW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKTtcbiAgY29uc3QgaW5wdXRQYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpO1xuICBjb25zdCBidXR0b25DYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1jYXJ0Jyk7XG5cbiAgY29uc3QgbG9naW4gPSAodXNlcikgPT4ge1xuICAgIGJ1dHRvbkF1dGguc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBidXR0b25PdXQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB1c2VyTmFtZS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGJ1dHRvbkNhcnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB1c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXIubG9naW47XG4gICAgbW9kYWxBdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XG4gICAgYnV0dG9uQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIGJ1dHRvbk91dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHVzZXJOYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdXNlck5hbWUudGV4dENvbnRlbnQgPSAnJztcbiAgICBidXR0b25DYXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgfVxuXG4gIGJ1dHRvbkF1dGguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbW9kYWxBdXRoLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIH0pXG5cbiAgY2xvc2VBdXRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1vZGFsQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9KVxuXG4gIGJ1dHRvbk91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBsb2dvdXQoKTtcbiAgfSlcblxuICBsb2dJbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBpZiAoaW5wdXRMb2dpbi52YWx1ZS50cmltKCkgJiYgaW5wdXRQYXNzd29yZC52YWx1ZSkge1xuICAgICAgY29uc3QgdXNlciA9IHtcbiAgICAgICAgbG9naW46IGlucHV0TG9naW4udmFsdWUudHJpbSgpLFxuICAgICAgICBwYXNzd29yZDogaW5wdXRQYXNzd29yZC52YWx1ZVxuICAgICAgfTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xuICAgICAgbG9naW4odXNlcik7XG4gICAgfSBlbHNlIGlmICghaW5wdXRMb2dpbi52YWx1ZS50cmltKCkpIHtcbiAgICAgIGFsZXJ0KCfQlNC70Y8g0LDQstGC0L7RgNC40LfQsNGG0LjQuCDQvdC10L7QsdGF0L7QtNC40LzQviDQstCy0LXRgdGC0Lgg0LvQvtCz0LjQvScpO1xuICAgIH0gZWxzZSBpZiAoIWlucHV0UGFzc3dvcmQudmFsdWUpIHtcbiAgICAgIGFsZXJ0KCfQlNC70Y8g0LDQstGC0L7RgNC40LfQsNGG0LjQuCDQvdC10L7QsdGF0L7QtNC40LzQviDQstCy0LXRgdGC0Lgg0L/QsNGA0L7Qu9GMJyk7XG4gICAgfVxuICB9KVxuXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7XG4gICAgbG9naW4oSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXV0aDsiLCJjb25zdCBjYXJ0ID0gKCkgPT4ge1xuICBjb25zdCBidXR0b25DYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnQtYnV0dG9uJyk7XG4gIGNvbnN0IG1vZGFsQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jYXJ0Jyk7XG4gIGNvbnN0IGNsb3NlID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpO1xuICBjb25zdCBib2R5ID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1ib2R5Jyk7XG4gIGNvbnN0IGJ1dHRvblNlbmQgPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLmJ0bi1zZW5kJyk7XG4gIGNvbnN0IGJ1dHRvbkNsZWFyID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5jbGVhci1jYXJ0Jyk7XG4gIGNvbnN0IG1vZGFsUHJpY2V0YWcgPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXByaWNldGFnJyk7XG5cbiAgY29uc3QgcmVzZXRDYXJ0ID0gKCkgPT4ge1xuICAgIGJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9kYWxQcmljZXRhZy50ZXh0Q29udGVudCA9IDAgKyAnIOKCvSc7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NhcnQnKTtcbiAgICBtb2RhbENhcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xuICB9XG5cbiAgY29uc3QgaW5jcmVtZW50Q291bnQgPSAoaWQpID0+IHtcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpO1xuXG4gICAgY2FydEFycmF5Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB7XG4gICAgICAgIGl0ZW0uY291bnQrKztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0QXJyYXkpKTtcbiAgICByZW5kZXJJdGVtcyhjYXJ0QXJyYXkpO1xuICB9O1xuXG4gIGNvbnN0IGRlY3JlbWVudENvdW50ID0gKGlkKSA9PiB7XG4gICAgY29uc3QgY2FydEFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKTtcblxuICAgIGNhcnRBcnJheS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSBpZCkge1xuICAgICAgICBpdGVtLmNvdW50ID0gaXRlbS5jb3VudCA+IDAgPyBpdGVtLmNvdW50IC0gMSA6IDBcbiAgICAgICAgLyogYmVsb3cgd2lsbCBiZSB0aGUgc2FtZSByZXN1bHQgYXMgYWJvdmUsIGJ1dCBpbiBtb3JlIGNvZGVcbiAgICAgICAgaWYgKGl0ZW0uY291bnQgPiAwKSB7XG4gICAgICAgICAgaXRlbS5jb3VudC0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uY291bnQgPSAwO1xuICAgICAgICB9IFxuICAgICAgICAqL1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnRBcnJheSkpO1xuICAgIHJlbmRlckl0ZW1zKGNhcnRBcnJheSk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVySXRlbXMgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHByaWNlQXJyYXkgPSBbXTtcbiAgICBib2R5LmlubmVySFRNTCA9ICcnO1xuICAgIG1vZGFsUHJpY2V0YWcudGV4dENvbnRlbnQgPSAwICsgJyDigr0nO1xuXG4gICAgZGF0YS5mb3JFYWNoKCh7IG5hbWUsIHByaWNlLCBpZCwgY291bnQgfSkgPT4ge1xuICAgICAgY29uc3QgaXRlbUFtb3VudCA9IHByaWNlICogY291bnQ7XG4gICAgICBjb25zdCBjYXJ0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2FydEVsZW0uY2xhc3NMaXN0LmFkZCgnZm9vZC1yb3cnKTtcbiAgICAgIGNhcnRFbGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmb29kLW5hbWVcIj4ke25hbWV9PC9zcGFuPlxuXHRcdFx0XHQ8c3Ryb25nIGNsYXNzPVwiZm9vZC1wcmljZVwiPiR7cHJpY2V9IOKCvTwvc3Ryb25nPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9vZC1jb3VudGVyXCI+XG5cdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImNvdW50ZXItYnV0dG9uIGJ0bi1kZWNcIiBkYXRhLWluZGV4PVwiJHtpZH1cIj4tPC9idXR0b24+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjb3VudGVyXCI+JHtjb3VudH08L3NwYW4+XG5cdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImNvdW50ZXItYnV0dG9uIGJ0bi1pbmNcIiBkYXRhLWluZGV4PVwiJHtpZH1cIj4rPC9idXR0b24+XG5cdFx0XHRcdDwvZGl2PlxuICAgICAgYFxuXG4gICAgICBwcmljZUFycmF5LnB1c2goaXRlbUFtb3VudCk7XG4gICAgICBib2R5LmFwcGVuZChjYXJ0RWxlbSk7XG5cbiAgICAgIC8qIGFub3RoZXIgd2F5IHRvIG1ha2UgY291bnRpbmcgYnV0dG9ucywgYnV0IHRoZXJlIGFyZSB3YXkgbW9yZSBsaXN0ZW5lcnNcbiAgICAgIGNhcnRFbGVtLnF1ZXJ5U2VsZWN0b3IoJy5idG4tZGVjJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRlY3JlbWVudENvdW50KGlkKTtcbiAgICAgIH0pXG4gICAgICBjYXJ0RWxlbS5xdWVyeVNlbGVjdG9yKCcuYnRuLWluYycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpbmNyZW1lbnRDb3VudChpZCk7XG4gICAgICB9KVxuICAgICAgKi9cbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsUHJpY2UgPSBwcmljZUFycmF5LnJlZHVjZShmdW5jdGlvbihzdW0sIGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBzdW0gKyBjdXJyZW50O1xuICAgIH0pO1xuICAgIG1vZGFsUHJpY2V0YWcudGV4dENvbnRlbnQgPSB0b3RhbFByaWNlICsgJyDigr0nO1xuICB9XG5cbiAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnRuLWluYycpKSB7XG4gICAgICBpbmNyZW1lbnRDb3VudChlLnRhcmdldC5kYXRhc2V0LmluZGV4KTtcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnRuLWRlYycpKSB7XG4gICAgICBkZWNyZW1lbnRDb3VudChlLnRhcmdldC5kYXRhc2V0LmluZGV4KTtcbiAgICB9XG4gIH0pXG5cbiAgYnV0dG9uU2VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpO1xuICAgIGZldGNoKCdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IGNhcnRBcnJheVxuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJlc2V0Q2FydCgpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKGUgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9KVxuICB9KVxuXG4gIGJ1dHRvbkNsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXRDYXJ0KTtcblxuICBidXR0b25DYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSB7XG4gICAgICByZW5kZXJJdGVtcyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpKTtcbiAgICB9XG4gICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgfSlcbiAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2FydDsiLCJjb25zdCBtZW51ID0gKCkgPT4ge1xuICBjb25zdCBjYXJkc01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHMtbWVudScpO1xuXG4gIGNvbnN0IGNoYW5nZVRpdGxlID0gKHJlc3RhdXJhbnQpID0+IHtcbiAgICBjb25zdCByZXN0YXVyYW50VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdGF1cmFudC10aXRsZScpO1xuICAgIGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYXRpbmcnKTtcbiAgICBjb25zdCBwcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmljZScpO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5Jyk7XG5cbiAgICByZXN0YXVyYW50VGl0bGUudGV4dENvbnRlbnQgPSByZXN0YXVyYW50Lm5hbWU7XG4gICAgcmF0aW5nLnRleHRDb250ZW50ID0gcmVzdGF1cmFudC5zdGFycztcbiAgICBwcmljZS50ZXh0Q29udGVudCA9IGDQntGCICR7cmVzdGF1cmFudC5wcmljZX0g4oK9YDtcbiAgICBjYXRlZ29yeS50ZXh0Q29udGVudCA9IHJlc3RhdXJhbnQua2l0Y2hlbjtcbiAgfVxuXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChjYXJ0SXRlbSkgPT4ge1xuICAgIGNvbnN0IGNhcnRBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykgPyBcbiAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIDogXG4gICAgW107XG5cbiAgICBpZiAoY2FydEFycmF5LnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGNhcnRJdGVtLmlkKSkge1xuICAgICAgY2FydEFycmF5Lm1hcCgoaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBjYXJ0SXRlbS5pZCkge1xuICAgICAgICAgIGl0ZW0uY291bnQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH0pKVxuICAgIH0gZWxzZSB7XG4gICAgICBjYXJ0QXJyYXkucHVzaChjYXJ0SXRlbSk7XG4gICAgfVxuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0QXJyYXkpKTtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckl0ZW1zID0gKGRhdGEpID0+IHtcbiAgICBkYXRhLmZvckVhY2goKHtcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgaWQsXG4gICAgICBpbWFnZSxcbiAgICAgIG5hbWUsXG4gICAgICBwcmljZVxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZCcpO1xuICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXG4gICAgICA8aW1nIHNyYz1cIiR7aW1hZ2V9XCIgYWx0PVwiJHtuYW1lfVwiIGNsYXNzPVwiY2FyZC1pbWFnZVwiIC8+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC10ZXh0XCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRpbmdcIj5cblx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJjYXJkLXRpdGxlIGNhcmQtdGl0bGUtcmVnXCI+JHtuYW1lfTwvaDM+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluZ3JlZGllbnRzXCI+XG4gICAgICAgICAgICAke2Rlc2NyaXB0aW9ufVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtYnV0dG9uc1wiPlxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWFkZC1jYXJ0XCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImJ1dHRvbi1jYXJkLXRleHRcIj7QkiDQutC+0YDQt9C40L3Rgzwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYnV0dG9uLWNhcnQtc3ZnXCI+PC9zcGFuPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHRcdDxzdHJvbmcgY2xhc3M9XCJjYXJkLXByaWNlLWJvbGRcIj4ke3ByaWNlfSDigr08L3N0cm9uZz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cbiAgICBgO1xuXG4gICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FyZC10ZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFkZFRvQ2FydCh7IG5hbWUsIHByaWNlLCBpZCwgY291bnQ6IDEgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY2FyZHNNZW51LmFwcGVuZChjYXJkKTtcbiAgICB9KTtcbiAgfTtcblxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Jlc3RhdXJhbnQnKSkge1xuICAgIGNvbnN0IHJlc3RhdXJhbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpO1xuICAgIGNoYW5nZVRpdGxlKHJlc3RhdXJhbnQpO1xuICAgIFxuICAgIGZldGNoKGBodHRwczovL2Zvb2RkZWxpdmVyeS1hNTk4MS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvJHtyZXN0YXVyYW50LnByb2R1Y3RzfWApXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJlbmRlckl0ZW1zKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVudTsiLCJpbXBvcnQgYXV0aCBmcm9tIFwiLi9tb2R1bGVzL2F1dGhcIjtcbmltcG9ydCBjYXJ0IGZyb20gXCIuL21vZHVsZXMvY2FydFwiO1xuaW1wb3J0IG1lbnUgZnJvbSBcIi4vbW9kdWxlcy9tZW51XCI7XG5cbmF1dGgoKTtcbmNhcnQoKTtcbm1lbnUoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///941\n")}},__webpack_exports__={};__webpack_modules__[941]()})();